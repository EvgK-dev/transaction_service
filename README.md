# üí≥ transaction_service

Transaction Service ‚Äî —ç—Ç–æ –º–∏–Ω–∏-—Å–µ—Ä–≤–∏—Å –Ω–∞ Python/Django –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π. –û–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω –≤ —Ä–∞–º–∫–∞—Ö —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç REST API –∏ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞, –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ç—Ä–∞—Ç, —Å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ–º –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–æ–≤.

---

## üöÄ –û–ø–∏—Å–∞–Ω–∏–µ

### –°–µ—Ä–≤–∏—Å —Ä–µ–∞–ª–∏–∑—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏:

* –ò–º–ø–æ—Ä—Ç —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π ‚Äî —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∏–ª–∏ API.
* –ö–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç—Ä–∞—Ç.
* –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ª–∏–º–∏—Ç–æ–≤ ‚Äî –¥–Ω–µ–≤–Ω—ã—Ö –∏ –Ω–µ–¥–µ–ª—å–Ω—ã—Ö.
* REST API ‚Äî –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.
* –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Äî –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è—Ö –∏ –æ—à–∏–±–∫–∏.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```plaintext
transaction_service/
‚îú‚îÄ‚îÄ adminStyles/              # –°—Ç–∏–ª–∏ –¥–ª—è –∞–¥–º–∏–Ω–∫–∏
‚îú‚îÄ‚îÄ api/                      # API-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç Django REST Framework)
‚îú‚îÄ‚îÄ logs/                     # –õ–æ–≥–∏ 
‚îú‚îÄ‚îÄ mainapp/                  # Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å)
‚îÇ   ‚îú‚îÄ‚îÄ models.py             # –ú–æ–¥–µ–ª–∏ UserProfile –∏ Transaction
‚îÇ   ‚îú‚îÄ‚îÄ views.py              # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ static/mainapp/       # CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ templates/mainapp/    # HTML-—à–∞–±–ª–æ–Ω—ã
‚îú‚îÄ‚îÄ media/                    # –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã 
‚îú‚îÄ‚îÄ transaction_service/      # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ (settings, urls)
‚îú‚îÄ‚îÄ .env                      # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è 
‚îú‚îÄ‚îÄ db.sqlite3                # SQLite –±–∞–∑–∞ (–Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω –≤ Git)
‚îú‚îÄ‚îÄ manage.py                 # –ó–∞–ø—É—Å–∫ Django
‚îî‚îÄ‚îÄ requirements.txt          # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞
```
---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone git@github.com:EvgK-dev/transaction_service.git

–ò–ª–∏, –µ—Å–ª–∏ SSH –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:

git clone https://github.com/EvgK-dev/transaction_service.git

### 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–æ–µ–∫—Ç–∞
cd transaction_service

### 3. –°–æ–∑–¥–∞—Ç—å –∏ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ 
Windows:  
python -m venv venv  
.\venv\Scripts\activate

Linux/macOS:  
python3 -m venv venv  
source venv/bin/activate  

### 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt

### 5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate  
–∏–ª–∏ –ø–æ–ª–Ω–æ—Å—Ç—å—é:  
python manage.py makemigrations  
python manage.py migrate

### 6. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
python manage.py runserver

### 7. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
http://127.0.0.1:8000/

### 8. –û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–Ω–µ–ª—å Django
http://127.0.0.1:8000/admin/

### 9. –°–æ–∑–¥–∞—Ç—å —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–∞–¥–º–∏–Ω–∞)
python manage.py createsuperuser  
–£–∫–∞–∂–∏—Ç–µ –ª–æ–≥–∏–Ω, email –∏ –ø–∞—Ä–æ–ª—å –ø–æ –∑–∞–ø—Ä–æ—Å—É –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ.

---

### üõ†Ô∏è API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

| –ú–µ—Ç–æ–¥ | URL | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----|----------|
| POST  | /api/transactions/ | –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ |
| GET   | /api/user-stats/ | –ë–∞–ª–∞–Ω—Å –∏ —Ç—Ä–∞—Ç—ã |
| GET   | /api/users/<id>/stats/?from=YYYY-MM-DD&to=YYYY-MM-DD | –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ |
| POST  | /api/topup/ | –ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ / —Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ |
| POST  | /api/clear-transactions/ | –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π |

---

### üß© –ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤:
## –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã —Ç—Ä–µ–±—É—é—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
##–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤–≤–æ–¥–∞ –∏ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —á–µ—Ä–µ–∑ –ª–æ–≥–∏

–°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (POST /api/transactions/): http://127.0.0.1:8000/api/transactions/  
–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ/—Å–ø–∏—Å–∞–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞ (POST /api/topup/): http://127.0.0.1:8000/api/topup/?amount=1000.00  
–û—á–∏—Å—Ç–∫–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π (POST /api/clear-transactions/): http://127.0.0.1:8000/api/clear-transactions/  
–¢–µ–∫—É—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (GET /api/user-stats/): http://127.0.0.1:8000/api/user-stats/  
–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ç (GET /api/spending-stats/): http://127.0.0.1:8000/api/spending-stats/?from=2024-11-01&to=2024-11-07  
–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (GET /api/users/<id>/stats/): http://127.0.0.1:8000/api/users/1/stats/?from=2024-11-01&to=2024-11-07  

